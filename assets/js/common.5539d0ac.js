"use strict";(self.webpackChunkguitar_stuff=self.webpackChunkguitar_stuff||[]).push([[695],{1342:(t,n,e)=>{e.d(n,{A:()=>u});var o=e(6540),r=e(5293);function s(t){const n=t.match(/^([b#]*)(\d+)$/),[,e,o]=n,r=parseInt(o),s=Math.floor((r-1)/7);let i={1:0,2:2,3:4,4:5,5:7,6:9,7:11,8:12}[(r-1)%7+1];i+=12*s;for(const l of e)"b"===l?i-=1:"#"===l&&(i+=1);return i}function i(t){const n=t.match(/^([A-G])([b#]*)$/),[,e,o]=n;let r={C:0,D:2,E:4,F:5,G:7,A:9,B:11}[e];for(const s of o)"#"===s?r+=1:"b"===s&&(r-=1);return r=(r+12)%12,r}function l(t,n){const e=i(t);return["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"][(e+n)%12]}function c(t){const n=new Set,e=[];for(const o of t){const t=[...o].sort(((t,n)=>t-n)).join(",");n.has(t)||(n.add(t),e.push(Array.from(o)))}return e}function h(t){const n=[],e=10;t.forEach((t=>{n.push({x:t.x-e,y:t.y-e}),n.push({x:t.x+e,y:t.y-e}),n.push({x:t.x-e,y:t.y+e}),n.push({x:t.x+e,y:t.y+e})}));const o=function(t){const n=t.reduce(((t,n)=>({x:t.x+n.x,y:t.y+n.y})),{x:0,y:0});return n.x/=t.length,n.y/=t.length,t.slice().sort(((t,e)=>{const o=Math.atan2(t.y-n.y,t.x-n.x),r=Math.atan2(e.y-n.y,e.x-n.x);if(o===r){return(t.x-n.x)**2+(t.y-n.y)**2-((e.x-n.x)**2+(e.y-n.y)**2)}return o-r}))}(n),r=function(t,n){const e=t.reduce(((t,n)=>({x:t.x+n.x,y:t.y+n.y})),{x:0,y:0});return e.x/=t.length,e.y/=t.length,t.map((t=>{const o=t.x-e.x,r=t.y-e.y,s=Math.sqrt(o*o+r*r);return 0===s?{...t}:{x:t.x+o/s*n,y:t.y+r/s*n}}))}(function(t){if(t.length<=3)return t.slice();const n=t.slice().sort(((t,n)=>t.x===n.x?t.y-n.y:t.x-n.x)),e=[];for(const r of n){for(;e.length>=2&&f(e[e.length-2],e[e.length-1],r)<=0;)e.pop();e.push(r)}const o=[];for(let r=n.length-1;r>=0;r--){const t=n[r];for(;o.length>=2&&f(o[o.length-2],o[o.length-1],t)<=0;)o.pop();o.push(t)}return o.pop(),e.pop(),e.concat(o)}(o),8),s=r.length;if(s<3)return"";const i=[];i.push(`M${r[0].x},${r[0].y}`);for(let l=0;l<s;l++){const t=r[(l-1+s)%s],n=r[l],e=r[(l+1)%s],o=r[(l+2)%s],c=n.x+(e.x-t.x)/12,h=n.y+(e.y-t.y)/12,f=e.x-(o.x-n.x)/12,a=e.y-(o.y-n.y)/12;i.push(`C${c},${h} ${f},${a} ${e.x},${e.y}`)}return i.push("Z"),i.join(" ")}function f(t,n,e){return(n.x-t.x)*(e.y-t.y)-(n.y-t.y)*(e.x-t.x)}var a=e(4848);const d=({note:t,interval:n,color:e,open:i,x:l,y:c})=>{const{colorMode:h,setColorMode:f}=(0,r.G)(),[d,g]=(0,o.useState)(!1),u="dark"===h?"white":"black",x="dark"===h?"black":"lightgray",p="dark"===h?"var(--ifm-background-color)":"white",_=s(n);return(0,a.jsxs)("g",{onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:[(0,a.jsx)("rect",{x:l-11,y:c-11,width:22,height:22,rx:0!==_?22:4,fill:i?p:e,stroke:e,strokeWidth:i?2:0}),(0,a.jsx)("text",{x:l,y:c+1,textAnchor:"middle",dominantBaseline:"middle",fontSize:15,fontWeight:"bold",fill:u,stroke:x,strokeWidth:i?0:1.5,paintOrder:"stroke",children:d?t:n})]})};function g(t,n){const e=n-t+1;return Array.from({length:e},((n,e)=>t+e))}const u=({strings:t,tuning:n,frets:e,root:o,scales:f,chords:u,displayAllScaleNotes:x,label:p})=>{const _=performance.now(),{colorMode:y,setColorMode:$}=(0,r.G)(),m=crypto.randomUUID(),j="dark"===y?"white":"black",F=["#FFCC00","#FF3300","#A200FF","#00C8FF","#22FF00"],w=["#FFCC00","#FF3300","#A200FF","#00C8FF","#22FF00"],C=25,v=[3,5,7,9,15,17,19,21],M=[12,24],k="silver",b=g(t[0],t[1]),E=g(e[0]-1,e[1]),A=i(o),S=function(t){const n=new Map;return t.forEach(((t,e)=>{t.forEach((t=>{n.has(t)||n.set(t,[]),n.get(t).push(e)}))})),n}(f),G=function(t,n){let e=null;if(null!=n){var o=n.sort((t=>t.reduce(((t,n)=>t+n.fret),0)/t.length));const r=new Map;o.forEach(((t,n)=>{t.forEach((t=>{const e=`${t.string},${t.fret}`;r.has(e)||r.set(e,[]),r.get(e).push(n)}))}));const s=new Map;o.forEach((n=>{t.forEach((t=>{s.has(t)||s.set(t,[]);var e=n.filter((n=>n.string===t));let o;if(1===e.length){const t=e[0];o=void 0===t.finger?0===t.fret?0:-1:t.finger}s.get(t).push(o)}))})),e={fretPositionChordIndicesMap:r,stringFingeringsMap:s}}return e}(b,u),B=null!=p&&""!==p,I=B?25:0,P=15+I,z=[],W=[];if(c(S.values()).forEach((t=>{if(t.length>1){const n=[];for(let e=0;e<t.length;e++){const o=t[e],r=100/t.length*e,s=100/t.length*(e+1);0!==e&&n.push((0,a.jsx)("stop",{offset:`${r}%`,stopColor:w[o%w.length]},`gradient_stop_0_${e}`)),e!==t.length-1&&n.push((0,a.jsx)("stop",{offset:`${s}%`,stopColor:w[o%w.length]},`gradient_stop_1_${e}`))}W.push((0,a.jsx)("linearGradient",{id:`gradient_scale_${m}_${t.map((t=>t.toString())).join("")}`,children:n},`gradient_scale_${m}_${t.map((t=>t.toString())).join("")}`))}})),null!==G){c(G.fretPositionChordIndicesMap.values()).forEach((t=>{if(t.length>1){const n=[];for(let e=0;e<t.length;e++){const o=t[e],r=100/t.length*e,s=100/t.length*(e+1);0!==e&&n.push((0,a.jsx)("stop",{offset:`${r}%`,stopColor:w[o%w.length]},`gradient_stop_0_${e}`)),e!==t.length-1&&n.push((0,a.jsx)("stop",{offset:`${s}%`,stopColor:w[o%w.length]},`gradient_stop_1_${e}`))}W.push((0,a.jsx)("linearGradient",{id:`gradient_chord_${m}_${t.map((t=>t.toString())).join("")}`,children:n},`gradient_chord_${m}_${t.map((t=>t.toString())).join("")}`))}}))}z.push((0,a.jsxs)("defs",{children:[W,[]]},"defs"));const D=[];B&&D.push((0,a.jsx)("text",{id:"label",x:C,y:15,fontSize:12,fontWeight:"bold",fill:j,children:p},"label"));const O=25*(b.length-1),U=[],X=[],q=[];for(let r=0;r<E.length;r++){const t=E[r],n=V(t),e=C+Y(E,r),o=e-17.5;if(-1!==t&&U.push((0,a.jsx)("rect",{id:`fret_${t}`,x:e,y:P,width:n,height:O,fill:j},`fret_${t}`)),0!==r){if(X.push((0,a.jsx)("text",{id:`fret_number_${t}`,x:o,y:P+O+25,textAnchor:"middle",dominantBaseline:"middle",fontSize:12,fill:j,children:0===t?"Open":t},`fret_number_${t}`)),v.includes(t)){const n=P+O/2;q.push((0,a.jsx)("circle",{id:`dot_${t}`,cx:o,cy:n,r:8,fill:k},`dot_${t}`))}if(M.includes(t)){const n=P+O/4,e=P+3*O/4;q.push((0,a.jsxs)("g",{children:[(0,a.jsx)("circle",{id:`dot_0_${t}`,cx:o,cy:n,r:8,fill:k},`dot_0_${t}`),(0,a.jsx)("circle",{id:`dot_1_${t}`,cx:o,cy:e,r:8,fill:k},`dot_1_${t}`)]},`double_dot_${t}`))}}}const L=[],N=[],R=[],Z=Y(E,E.length-1)+3;for(let r=0;r<b.length;r++){const t=b[r],e=n[r],o=1*Math.pow(1.15,t-1),s=P+25*r-o/2;if(L.push((0,a.jsx)("rect",{id:`string_${t}`,x:C,y:s,width:Z,height:o,fill:j},`string_${t}`)),N.push((0,a.jsx)("text",{id:`string_tuning_${t}`,x:12.5,y:s+2,textAnchor:"middle",dominantBaseline:"middle",fontSize:16,fill:j,children:e},`string_tuning_${t}`)),null!==G&&G.stringFingeringsMap.has(t)){G.stringFingeringsMap.get(t).forEach(((n,e)=>{R.push((0,a.jsx)("text",{id:`string_fingering_${t}_${e}`,x:C+Z+20+20*e,y:s+0,textAnchor:"middle",dominantBaseline:"middle",fontSize:12,fill:j,children:null===n||-1===n?"":0===n?"o":n},`string_fingering_${t}_${e}`))}))}}const H=[],J=[],K=[],Q=new Map;S.forEach(((t,e)=>{const o=s(e);for(let r=0;r<b.length;r++){const s=b[r],c=n[r];for(let n=1;n<E.length;n++){const h=E[n],f=`${s},${h}`,g=Y(E,n),u=l(c,h);if(i(u)%12==(A+o)%12){const n=g-17.5,o=P+25*r;if(null!==G)if(G.fretPositionChordIndicesMap.has(f)){const t=G.fretPositionChordIndicesMap.get(f);J.push((0,a.jsx)(d,{note:u,interval:e,color:1===t.length?w[t[0]%w.length]:`url(#gradient_chord_${m}_${t.map((t=>t.toString())).join("")})`,open:0===h,x:C+n,y:o},`note_string_${s+1}_fret_${h+1}`)),t.forEach((t=>{Q.has(t)||Q.set(t,[]),Q.get(t).push({x:C+n,y:o})}))}else x&&H.push((0,a.jsx)(d,{note:u,interval:e,color:"lightgray",open:!0,x:C+n,y:o},`note_string_${s+1}_fret_${h+1}`));else H.push((0,a.jsx)(d,{note:u,interval:e,color:1===t.length?F[t[0]%F.length]:`url(#gradient_scale_${m}_${t.map((t=>t.toString())).join("")})`,open:0===h,x:C+n,y:o},`note_string_${s+1}_fret_${h+1}`))}}}})),Q.forEach(((t,n)=>{const e=h(t);K.push((0,a.jsx)("path",{d:e,fill:"none",stroke:w[n],strokeWidth:2}))}));const T=performance.now()-_;return console.log(`Fretboard generation took ${T.toFixed(2)}ms`),(0,a.jsx)("div",{style:{marginBottom:"20px",cursor:"default",overflowX:"auto"},children:(0,a.jsxs)("svg",{width:`${C+Z+0+20*(void 0!==u?u.filter((t=>t.filter((t=>null!==t.finger&&void 0!==t.finger)).length>0)).length:0)+10}px`,height:`${15+I+O+25+15}px`,id:"fretboard",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/svg",children:[z,D,U,X,q,L,N,R,H,J]})});function V(t){return-1===t?0:0===t?10:t>=1?3:void 0}function Y(t,n){const e=t.slice(0,n);return e.map(V).reduce(((t,n)=>t+n),0)+35*e.length}}},8453:(t,n,e)=>{e.d(n,{R:()=>i,x:()=>l});var o=e(6540);const r={},s=o.createContext(r);function i(t){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof t?t(n):{...n,...t}}),[n,t])}function l(t){let n;return n=t.disableParentContext?"function"==typeof t.components?t.components(r):t.components||r:i(t.components),o.createElement(s.Provider,{value:n},t.children)}}}]);